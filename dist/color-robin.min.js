!function a(s,o,u){function h(e,t){if(!o[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=o[e]={exports:{}};s[e][0].call(i.exports,function(t){return h(s[e][1][t]||t)},i,i.exports,a,s,o,u)}return o[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)h(u[t]);return h}({1:[function(t,e,n){var u=t("./histogram");e.exports=function(){this._resolution=20,this._canvas=document.createElement("canvas"),this._canvas.width=this._resolution,this._canvas.height=this._resolution,this.analyze=function(t,e){var n=this._groupToPixels(this._getImageData(t)),r=new u;null!=e&&r.setTolerance(e);for(var i=r.create(n),a=[],s=0;s<i.length;s++){var o={importance:i[s].total,color:this._averageColor(i[s].data)};a.push(o)}return a},this.setResolution=function(t){this._resolution=t,this._canvas.width=this._resolution,this._canvas.height=this._resolution},this._getImageData=function(t){var e=this._canvas.getContext("2d");return e.fillStyle="red",e.drawImage(t,0,0,this._resolution,this._resolution),imageData=e.getImageData(0,0,this._canvas.width,this._canvas.height),imageData},this._groupToPixels=function(t){for(var e=[],n=0;n<t.data.length;n+=4){var r=[t.data[n],t.data[n+1],t.data[n+2]];e.push(r)}return e},this._averageColor=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++)e+=t[i][0],n+=t[i][1],r+=t[i][2];return[e=e/t.length|0,n=n/t.length|0,r=r/t.length|0]}}},{"./histogram":3}],2:[function(t,e,n){var r={};r.Analyzer=t("./analyzer"),r.toRgbString=function(t){return"rgb("+t[0]+","+t[1]+","+t[2]+")"},window.ColorRobin=r},{"./analyzer":1}],3:[function(t,e,n){var o=t("./map");e.exports=function(){this._tolerance=100,this.create=function(t){for(var e=new o,n=0;n<t.length;n++){var r=t[n],i=this._combineRGB(r,this._tolerance),a=e.get(i);null!=a?(a.total++,a.data.push(r)):(a={total:1,data:[r]},e.set(i,a))}var s=e.getValues();return s.sort(this._sortMapByOccurences),s},this.setTolerance=function(t){this._tolerance=t},this._combineRGB=function(t,e){return(((t[0]/e|0)*e<<8)+(t[1]/e|0)*e<<8)+(t[2]/e|0)*e},this._sortMapByOccurences=function(t,e){return e.total-t.total}}},{"./map":4}],4:[function(t,e,n){e.exports=function(){this._keys=[],this._values=[],this.set=function(t,e){var n=this._keyIndex(t);0<=n?this._values[n]=e:(this._keys.push(t),this._values.push(e))},this.get=function(t){var e=this._keyIndex(t);return 0<=e?this._values[e]:null},this.getValues=function(){return this._values.slice()},this._keyIndex=function(t){for(var e=0;e<this._keys.length;e++)if(this._keys[e]==t)return e;return-1}}},{}]},{},[2]);